{{/* Comprehensive template demonstrating all Go template actions */}}

{{$pageTitle := .Title}}
{{$itemCount := len .Items}}

<div>
    {{/* Comments are ignored in output */}}
    
    {{/* Header section with variables and pipelines */}}
    <header>
        <h1>{{$pageTitle}}</h1>
        <p>{{.Message}} (Count: {{.Count}})</p>
    </header>
    
    {{/* Profile section using with */}}
    {{with .Profile}}
    <div>
        <h2>{{.DisplayName}}</h2>
        <p>{{.Bio}}</p>
    </div>
    {{end}}
    
    {{/* Conditional content */}}
    {{if .IsVisible}}
    <div>
        <ul>
            {{range $index, $item := $.Items}}
            <li>{{$index}}. {{$item}}</li>
            {{end}}
        </ul>
    </div>
    {{end}}
    
    {{/* Users section with complex range */}}
    <div>
        {{range $index, $user := .Users}}
        <div>
            {{$user.Username}} ({{$user.Email}}) - {{if $user.Active}}Active{{else}}Inactive{{end}}
        </div>
        {{end}}
    </div>
    
    {{/* Settings footer with pipelines */}}
    {{with .Settings}}
    <footer>
        <p>Theme: {{.Theme}} | Language: {{.Language}}</p>
    </footer>
    {{end}}
</div>
